<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- meta og To add an image when you share your website link -->
  <!-- Basic Meta Tags -->
  <meta property="og:title" content="Our Story Invitation">
  <meta property="og:description" content="The Wedding of Galih & Ratna">
  <meta property="og:url" content="https://wedding-invitation-mocha.vercel.app">
  <meta property="og:type" content="website">

  <!-- Image Meta Tag -->
  <meta property="og:image" content="https://wedding-invitation-mocha.vercel.app/template-3.0/img/hero_bg.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <!-- Twitter Card Meta Tags (optional) -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Our Story Invitation">
  <meta name="twitter:description" content="The Wedding of Galih & Ratna">
  <!-- <meta name="twitter:image" content="https://wedding-invitation-mocha.vercel.app/img/hero-img.png"> -->
  <meta name="twitter:image" content="https://picsum.photos/200">
  <!--  -->
  <title>Wedding Invitation</title>
  <link rel="icon" href="/img/icons8-heart-16.png" type="image/x-icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Grechen+Fuemen&family=Grey+Qo&family=Headland+One&family=Marck+Script&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <!-- simplyCountdown -->
  <link rel="stylesheet" href="countdown/simplyCountdown.theme.default.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <script src="countdown/simplyCountdown.min.js"></script>
</head>

<body>
  <section id="hero" class="hero w-100 h-100 p-3 mx-auto text-center d-flex justify-content-center  text-white">
    <main>
      <h4 class="mt-5">Dear, <br><span>Bapak/Ibu/Saudara/i,</span> </h4>
      <a href="#home" class="btn btn-lg d-flex gap-3 justify-content-center align-items-center"
        onclick="enableScroll()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope"
          viewBox="0 0 16 16">
          <path
            d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z" />
        </svg>
        <p>Open Invitation</p>
      </a>
    </main>
  </section>

  <nav class="navbar navbar-expand-sm bg-body-tertiary sticky-top mynavbar">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">OurStory</a>
      <div class="navbar-nav">
        <a class="nav-link" href="#home">Home</a>
        <a class="nav-link" href="#info">Info</a>
        <!-- <a class="nav-link" href="#story">Story</a> -->
        <a class="nav-link" href="#gallery">Gallery</a>
        <!-- <a class="nav-link" href="#rsvp">RSVP</a> -->
        <a class="nav-link" href="#gifts">Gifts</a>
      </div>
    </div>
  </nav>

  <section class="home" id="home">
    <div class="container">
      <h2>You're invited to</h2>
      <h3>The Wedding Of</h3>
      <h4>Galih</h4>
      <h4>&</h4>
      <h4>Ratna</h4>
      <div class="simply-countdown mb-4"></div>
    </div>
  </section>

  <section id="info" class="info">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <h2>Informasi Acara</h2>
          <p class="alamat">Alamat: Braling Grand Hotel Purbalingga<br>Jl. Letjen S Parman No.50, Kedung Menjangan, Kec.
            Purbalingga, Kabupaten Purbalingga</p>

          <!-- <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3956.596382905376!2d109.3722855755428!3d-7.399039772852805!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e655981303626fd%3A0x4c5838cd2d12a034!2sBraling%20Grand%20Hotel%20Purbalingga!5e0!3m2!1sen!2sid!4v1721290374814!5m2!1sen!2sid"
            width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe> -->

          <a href="https://maps.app.goo.gl/TEa96n3KZ7p1Ke2o8" target="_blank" class="btn btn-light my-4">Klik untuk
            membuka
            peta</a>
          <p class="decription">Diharapkan untuk tidak salah alamat dan tanggal. Manakala tiba di tujuan namun tidak ada
            tanda-tanda sedang dilangsungkan pernikahan, boleh jadi Anda salah jadwal, atau salah tempat.</p>
        </div>
      </div>

      <div class="row justify-content-center mt-4">
        <div class="col-md-5 col-10">
          <div class="card text-center text-bg-light mb-5">
            <div class="card-header">
              Akad Nikah
            </div>
            <div class="card-body">
              <div class="col-md-6">
                <i class="bi bi-clock d-block"></i>
                <span>08.00 - 10.00</span>
              </div>
              <div class="col-md-6">
                <i class="bi bi-calendar3 d-block"></i>
                <span>Minggu, 11 November 2024</span>
              </div>
            </div>
            <div class="card-footer">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Et, soluta.
            </div>
          </div>
        </div>
        <div class="col-md-5 col-10">
          <div class="card text-center text-bg-light">
            <div class="card-header">
              Resepsi
            </div>
            <div class="card-body">
              <div class="col-md-6">
                <i class="bi bi-clock d-block"></i>
                <span>11.00 - Selesai</span>
              </div>
              <div class="col-md-6">
                <i class="bi bi-calendar3 d-block"></i>
                <span>Minggu, 11 November 2024</span>
              </div>
            </div>
            <div class="card-footer">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Et, soluta.
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- <section id="story" class="story">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <span>Bagaimana Cinta Kami Bersemi</span>
          <h2>Cerita Kami</h2>
          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel facilis quod placeat ipsa omnis recusandae.
          </p>

        </div>
      </div>

      <div class="row">
        <div class="col">
          <ul class="timeline">
            <li>
              <div class="timeline-image" style="background-image: url(img/alun2pbg.jpg);"></div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h3>Pertama Bertemu</h3>
                  <span>1 Juli 2024</span>
                </div>
                <div class="timeline-body">
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quisquam distinctio, beatae modi amet ea
                    error maiores.</p>
                </div>
              </div>
            </li>
            <li class="timeline-inverted">
              <div class="timeline-image" style="background-image: url(https://picsum.photos/200);"></div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h3>Mulai Berpacaran</h3>
                  <span>8 Agustus 2024</span>
                </div>
                <div class="timeline-body">
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quisquam distinctio, beatae modi amet ea
                    error maiores.</p>
                </div>
              </div>
            </li>
            <li>
              <div class="timeline-image" style="background-image: url(https://picsum.photos/300);"></div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h3>Bertunangan</h3>
                  <span>11 September 2024</span>
                </div>
                <div class="timeline-body">
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quisquam distinctio, beatae modi amet ea
                    error maiores.</p>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section> -->

  <section id="gallery" class="gallery">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <!-- <span>Memori Kisah Kami</span> -->
          <h2>Happy Moment</h2>
          <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Itaque, odio!</p>
        </div>
      </div>
      <div class="row row-cols-lg-4 row-cols-md-3 row-cols-sm-2 row-cols-1 justify-content-center">
        <div class="col mt-3">
          <a href="https://picsum.photos/id/300/1200/800" data-toggle="lightbox" data-caption="This describes the image"
            data-gallery="example-gallery">
            <img src="https://picsum.photos/id/300/440/330" alt="" class="img-fluid w-100 rounded">
          </a>
        </div>
        <div class="col mt-3">
          <a href="https://picsum.photos/id/301/1200/800" data-toggle="lightbox" data-caption="This describes the image"
            data-gallery="example-gallery">
            <img src="https://picsum.photos/id/301/440/330" alt="" class="img-fluid w-100 rounded">
          </a>
        </div>
        <div class="col mt-3">
          <a href="https://picsum.photos/id/302/1200/800" data-toggle="lightbox" data-caption="This describes the image"
            data-gallery="example-gallery">
            <img src="https://picsum.photos/id/302/440/330" alt="" class="img-fluid w-100 rounded">
          </a>
        </div>
        <div class="col mt-3">
          <a href="https://picsum.photos/id/304/1200/800" data-toggle="lightbox" data-caption="This describes the image"
            data-gallery="example-gallery">
            <img src="https://picsum.photos/id/304/440/330" alt="" class="img-fluid w-100 rounded">
          </a>
        </div>
        <div class="col mt-3">
          <a href="https://picsum.photos/id/305/1200/800" data-toggle="lightbox" data-caption="This describes the image"
            data-gallery="example-gallery">
            <img src="https://picsum.photos/id/305/440/330" alt="" class="img-fluid w-100 rounded">
          </a>
        </div>
        <div class="col mt-3">
          <a href="https://picsum.photos/id/306/1200/800" data-toggle="lightbox" data-caption="This describes the image"
            data-gallery="example-gallery">
            <img src="https://picsum.photos/id/306/440/330" alt="" class="img-fluid w-100 rounded">
          </a>
        </div>
      </div>
    </div>
  </section>

  <section id="rsvp" class="rsvp">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <h2>Konfirmasi Kehadiran</h2>
          <p>Isi form dibawah ini untuk melakukan konfirmasi kehadiran</p>
        </div>
      </div>

      <form class="row row-cols-md-auto g-3 align-items-center justify-content-center" method="POST"
        action="https://script.google.com/macros/s/AKfycbyQkt-D9O-_GKRbOeOASVfsYbLrwM6TpKJK_FYhsjAB3au6dF86GA0ayhM-nYqFwFbnpg/exec"
        id="my-form">
        <div class="col-12">
          <div class="mb-3">
            <label for="nama" class="form-label">Nama</label>
            <input type="text" class="form-control" id="nama" name="nama">
          </div>
        </div>
        <div class="col-12">
          <div class="mb-3">
            <label for="jumlah" class="form-label">Jumlah</label>
            <input type="number" class="form-control" id="jumlah" name="jumlah" min="1" max="5" length="1" value="1">
          </div>
        </div>
        <div class="col-12">
          <div class="mb-3">
            <label for="status" class="form-label">Konfirmasi</label>
            <select name="status" id="status" class="form-select">
              <option value="" disabled selected>Pilih salah satu</option>
              <option value="hadir">Hadir</option>
              <option value="tidak hadir">Tidak Hadir</option>
            </select>
          </div>
        </div>
        <div class="col-12">
          <button id="kirim-btn" class="btn" style="margin-top: 20px;">Kirim</button>
        </div>
      </form>
  </section>

  <section id="gifts" class="gifts">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <span>Ungkapan tanda kasih</span>
          <h2>Kirim Hadiah</h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
        </div>
      </div>
      <div class="row justify-content-center text-center">
        <div class="col-md-6">
          <ul class="list-group">
            <li class="list-group-item">
              <div class="fw-bold">BCA</div>
              123456789 - Ratna Salsabila
            </li>
            <li class="list-group-item">
              <div class="fw-bold">MANDIRI</div>
              123456789 - Galih Aditya
            </li>
            <li class="list-group-item">
              <div class="fw-bold">SEABANK</div>
              123456789 - Galih Aditya
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <section class="comment">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <h2>Ucapan Selamat</h2>
          <p>Tinggalkan pesan dan doa untuk kami</p>
          <div class="mb-3">
            <input type="text" class="form-control" id="nameInput" placeholder="Name">
          </div>
          <div class="mb-3">
            <textarea class="form-control" id="commentInput" rows="3" placeholder="Comment"></textarea>
          </div>
          <button class="btn" id="submitButton" style="margin-top: 20px;">Submit Comment</button>
        </div>

        <div class="col-md-8 col-10 comment-list py-3">
          <ul id="commentList">
            Comments will be appended here
          </ul>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <div class="row">
        <div class="col text-center">
          <small class="block">&copy; 2024 OurStory. All Rights Reserved.</small>
          <!-- <small class="block">Design by <a href="https://instagram.com/banuprabowoo"
              target="_blank">@banuprabowoo</a>.</small> -->
          <ul class="mt-3">
            <li><a href="https://instagram.com/banuprabowoo" target="_blank"><i class="bi bi-instagram"></i></a></li>
            <li><a href="https://www.facebook.com/banu.lamongan" target="_blank"><i class="bi bi-facebook"></i></a></li>
            <li><a href="https://twitter.com/?lang=en" target="_blank"><i class="bi bi-twitter-x"></i></a></li>
            <li><a href="https://youtube.com/?hl=id" target="_blank"><i class="bi bi-youtube"></i></a></li>
            <li><a href="https://www.tiktok.com/" target="_blank"><i class="bi bi-tiktok"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  <div id="audio-container">
    <audio class="song" id="song" loop>
      <source src="audio/cundamani.mp3" type="audio/mp3">
    </audio>

    <div class="audio-icon-wrapper" style="display: none;">
      <i class="bi bi-disc"></i>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.3/dist/index.bundle.min.js"></script>
  <script>
    simplyCountdown('.simply-countdown', {
      year: 2024, // required
      month: 11, // required
      day: 11, // required
      hours: 8, // Default is 0 [0-23] integer
      words: { //words displayed into the countdown
        days: { singular: 'hari', plural: 'hari' },
        hours: { singular: 'jam', plural: 'jam' },
        minutes: { singular: 'menit', plural: 'menit' },
        seconds: { singular: 'detik', plural: 'detik' }
      },

    })
  </script>

  <script>
    const rootElement = document.querySelector(":root");
    const audioIconWrapper = document.querySelector('.audio-icon-wrapper')
    const song = document.querySelector('#song')
    const audioIcon = document.querySelector('.audio-icon-wrapper i')
    // Ensure page scrolls to the top on load
    window.onload = function () {
      window.scrollTo(0, 0);
      disableScroll();
    };

    let isPlaying = false

    function disableScroll() {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop
      const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;

      window.onscroll = function () {
        window.scrollTo(scrollLeft, scrollTop);
      };

      rootElement.style.scrollBehavior = 'auto';
    }

    function enableScroll() {
      window.onscroll = function () { }
      rootElement.style.scrollBehavior = 'smooth';

      playAudio()
    }

    function playAudio(params) {
      song.volume = 0.1
      audioIconWrapper.style.display = 'flex'
      song.play()
      isPlaying = true
    }

    audioIconWrapper.onclick = function () {
      if (isPlaying) {
        song.pause()
        audioIcon.classList.remove('bi-disc')
        audioIcon.classList.add('bi-pause-circle')
      } else {
        song.play()
        audioIcon.classList.add('bi-disc')
        audioIcon.classList.remove('bi-pause-circle')
      }

      isPlaying = !isPlaying
    }

    disableScroll()
  </script>

  <script>
    // handle konfirmasi kehadiran
    const selectElement = document.getElementById('status');
    const submitButton = document.getElementById('kirim-btn');

    // Check if the select element has a valid selection before allowing the button click
    submitButton.addEventListener('click', function (event) {
      if (!selectElement.value) {
        event.preventDefault(); // Prevent the button's default action
        alert('Pilih konfirmasi Hadir / Tidak Hadir.');
      }
    });



    window.addEventListener("load", function () {
      const form = document.getElementById('my-form');
      form.addEventListener("submit", function (e) {
        e.preventDefault();
        const data = new FormData(form);
        const action = e.target.action;
        fetch(action, {
          method: 'POST',
          body: data,
        })
          .then(() => {
            alert("Konfirmasi kehadiran berhasil terkirim!");
          })
      });
    });
  </script>

  <script>
    const urlParams = new URLSearchParams(window.location.search)
    // const nama = urlParams.get('n') || ''
    const nama = urlParams.get('to') || 'Bapak/Ibu/Saudara/i'

    const namaContainer = document.querySelector('.hero h4 span')
    // namaContainer.innerText = `${nama} ${nama},`
    namaContainer.innerText = `${nama}`

    document.querySelector('#nama').value = nama
  </script>

  <script>
    const tag = 'GalihRatna'

    document.getElementById('submitButton').addEventListener('click', function () {

      const name = document.getElementById('nameInput').value.trim();
      const comment = document.getElementById('commentInput').value.trim();

      if (!name || name === '' || !comment || comment === '') {
        alert('Silahkan isi name dan comment terlebih dahulu');
        return;
      }


      fetch('https://be-wedding-inv.onrender.com/comment', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ name: name, comment: comment, tag: tag }),
      })
        .then(response => response.text())
        .then(data => {
          console.log('Success:', data);
          alert('Comment submitted successfully!');
          fetchComments();
          // Clear form inputs
          document.getElementById('nameInput').value = '';
          document.getElementById('commentInput').value = '';
        })
        .catch((error) => {
          console.error('Error:', error);
          alert('There was an error submitting your comment.');
        });
    });

    function fetchComments() {
      fetch(`https://be-wedding-inv.onrender.com/comments?tag=${tag}`)
        .then(response => response.json())
        .then(data => {
          const commentList = document.getElementById('commentList');
          commentList.innerHTML = ''; // Clear existing comments
          data.forEach(comment => {
            const listItem = document.createElement('li');
            listItem.innerHTML = `
            <p class="comment-name">${comment.name}</p>
            <p class="comment-value">${comment.comment}</p>
          `;
            commentList.appendChild(listItem);
          });
        })
        .catch((error) => {
          console.error('Error:', error);
          alert('There was an error fetching comments.');
        });
    }

    // Fetch comments when the page loads
    fetchComments();
  </script>
</body>

</html>